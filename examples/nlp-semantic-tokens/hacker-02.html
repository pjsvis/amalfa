<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POLYVIS // MENTATION PIPELINE</title>
    <style>
        /* FAFCAS STYLING: Fast As Fudge, Cool As Sugar */
        @import url('https://fonts.googleapis.com/css2?family=Space+Mono:wght@700&display=swap');

        body { 
            background: #050505; 
            display: flex; 
            flex-direction: column;
            align-items: center; 
            justify-content: center; 
            height: 100vh; 
            margin: 0; 
            overflow: hidden; /* Prevent scrollbars during chaotic resize */
        }

        .pipeline-container {
            text-align: center;
            position: relative;
            z-index: 10;
        }

        .scramble-text {
            font-family: 'Space Mono', monospace;
            font-size: 5rem; 
            font-weight: 700;
            color: #445566; /* The Entropy Color (Stuff) */
            letter-spacing: 0.2rem;
            cursor: crosshair; /* The Interaction Hint: Targeting System */
            user-select: none;
            white-space: pre; 
            transition: color 0.2s ease;
        }

        /* Responsive scaling for smaller screens */
        @media (max-width: 800px) {
            .scramble-text { font-size: 3rem; }
        }

        /* Individual character physics */
        .scramble-text span {
            display: inline-block;
            will-change: content, color, text-shadow;
            min-width: 0.6em; /* Keeps the grid roughly stable during glyph shifts */
        }

        /* --- STATE: LOCKED (The Thing) --- */
        .scramble-text span.locked {
            color: #EEFFFF; 
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.9), 
                         0 0 20px rgba(0, 200, 255, 0.6);
        }

        /* --- STATE: ANCHOR (:::) --- */
        .scramble-text span.anchor.locked {
            color: #00FFFF; /* Cyan Hard Lock */
            text-shadow: 0 0 15px rgba(0, 255, 255, 0.8),
                         0 0 30px rgba(0, 255, 255, 0.4);
        }

        /* --- STATE: SOURCE (...) --- */
        .scramble-text span.source.locked {
            color: #8899AA; /* Duller, industrial steel */
            text-shadow: none;
        }

        /* Status Line Styling */
        .status-line {
            margin-top: 2rem;
            font-family: 'Space Mono', monospace;
            font-size: 0.8rem;
            color: #334455;
            letter-spacing: 0.15em;
            opacity: 0.8;
        }

        #status-indicator {
            color: #FF3333; /* Default: Alert/Waiting */
            font-weight: bold;
        }
    </style>
</head>
<body>

    <div class="pipeline-container">
        <div id="polyvis-terminal" class="scramble-text" data-value="...POLYVIS:::"></div>
        
        <div class="status-line">SYSTEM STATUS: <span id="status-indicator">AWAITING_DEMAND</span></div>
    </div>

    <script>
        /**
         * POLYVIS INGESTION ENGINE
         * Protocol: FAFCAS (Fast As Fudge, Cool As Sugar)
         * Logic: Observer Effect (Entropy -> Order on Demand)
         */

        const el = document.getElementById('polyvis-terminal');
        const statusEl = document.getElementById('status-indicator');
        const targetStr = el.dataset.value;

        // The "Stuff" - A mix of Katakana, Greek, Math, and Cyber-glyphs
        const chars = "ｦｧｨｩｪｫｬｭｮｯｱｲｳｴｵｶｷｸｹｺｻｼｽｾｿﾀﾁﾂﾃﾄﾅﾆﾇﾈﾉﾊﾋﾌﾍﾎﾏﾐﾑﾒﾓﾔﾕﾖﾗﾘﾙﾚﾛﾜﾝΞΦΨΩΣΠ0123456789≠≈≡≤≥";

        let frame = 0;
        let isHovering = false;

        // --- INITIALIZATION ---
        // Build the DOM with semantic tags
        el.innerHTML = targetStr.split('').map((char, i) => {
            let type = '';
            // First 3 chars are Source (...)
            if (i < 3) type = 'source'; 
            // Last 3 chars are Anchor (:::)
            else if (i >= targetStr.length - 3) type = 'anchor'; 
            
            return `<span class="${type}" data-char="${char}"></span>`;
        }).join('');

        const spans = el.querySelectorAll('span');

        function randomChar() {
            return chars[Math.floor(Math.random() * chars.length)];
        }

        // --- THE MENTATION LOOP ---
        function update() {
            
            // STATE 1: ACTIVE (The Demand)
            // You are looking at it, so it must become a "Thing".
            if (isHovering) {
                statusEl.innerText = "MENTATION_ACTIVE";
                statusEl.style.color = "#00FF00"; // Operational Green
                
                spans.forEach((span, i) => {
                    // RTL SWEEP LOGIC:
                    // We map the "Wave" from Right (End) to Left (Start).
                    // The last character gets index 0 in the wave logic.
                    const reverseIndex = targetStr.length - 1 - i;
                    
                    // The Speed of the Wave (Lower multiplier = Faster)
                    const threshold = reverseIndex * 2.5; 
                    
                    if (frame >= threshold) {
                        // LOCK STATE: The wave has passed this index.
                        // Force the true character and add the glow.
                        if (span.textContent !== targetStr[i]) {
                            span.textContent = targetStr[i];
                            span.classList.add('locked');
                        }
                    } else {
                        // PRE-LOCK CHAOS: The wave hasn't hit yet.
                        // Hyper-scramble (every frame)
                        span.textContent = randomChar(); 
                        span.classList.remove('locked');
                    }
                });
                frame++;
            } 
            
            // STATE 2: PASSIVE (Entropy)
            // You looked away. The system cannot sustain order.
            else {
                statusEl.innerText = "AWAITING_DEMAND";
                statusEl.style.color = "#FF3333"; // Alert Red
                
                spans.forEach((span) => {
                    // If it was locked, shatter it.
                    if (span.classList.contains('locked')) {
                        // 15% chance per frame to lose coherence (The "Dissolve")
                        if (Math.random() < 0.15) {
                            span.classList.remove('locked');
                            span.textContent = randomChar();
                        }
                    } else {
                        // Background Radiation: Low frequency noise
                        // 5% chance to flip any random character
                        if (Math.random() < 0.05) span.textContent = randomChar();
                    }
                });
                
                // Reset the wave timer so the next hover starts fresh
                frame = 0; 
            }

            requestAnimationFrame(update);
        }

        // --- INTERACTION TRIGGERS ---
        el.addEventListener('mouseenter', () => { isHovering = true; });
        el.addEventListener('mouseleave', () => { isHovering = false; });
        
        // Touch support for mobile (Tap to reveal, tap out to hide)
        el.addEventListener('touchstart', (e) => { 
            e.preventDefault(); 
            isHovering = true; 
        });
        el.addEventListener('touchend', () => { isHovering = false; });

        // Start the Engine
        update();

    </script>
</body>
</html>